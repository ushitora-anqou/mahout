(*
 * This file has been generated by the OCamlClientCodegen generator for openapi-generator.
 *
 * Generated by: https://openapi-generator.tech
 *
 *)

let create_authorization_v1_namespaced_local_subject_access_review ~sw client ~namespace ~body ?dry_run ?field_manager ?field_validation ?pretty () =
    let uri = Request.build_uri "/apis/authorization.k8s.io/v1/namespaces/{namespace}/localsubjectaccessreviews" in
    let headers = Request.default_headers in
    let headers = Cohttp.Header.add headers "authorization" Request.api_key in
    let uri = Request.replace_path_param uri "namespace" (fun x -> x) namespace in
    let uri = Request.maybe_add_query_param uri "dryRun" (fun x -> x) dry_run in
    let uri = Request.maybe_add_query_param uri "fieldManager" (fun x -> x) field_manager in
    let uri = Request.maybe_add_query_param uri "fieldValidation" (fun x -> x) field_validation in
    let uri = Request.maybe_add_query_param uri "pretty" (fun x -> x) pretty in
    let body = Request.write_as_json_body Io_k8s_api_authorization_v1_local_subject_access_review.to_yojson body in
    let resp, body = Cohttp_eio.Client.call ~sw client `POST uri ~headers ~body  in
    Request.read_json_body_as (JsonSupport.unwrap Io_k8s_api_authorization_v1_local_subject_access_review.of_yojson) resp body

let create_authorization_v1_self_subject_access_review ~sw client ~body ?dry_run ?field_manager ?field_validation ?pretty () =
    let uri = Request.build_uri "/apis/authorization.k8s.io/v1/selfsubjectaccessreviews" in
    let headers = Request.default_headers in
    let headers = Cohttp.Header.add headers "authorization" Request.api_key in
    let uri = Request.maybe_add_query_param uri "dryRun" (fun x -> x) dry_run in
    let uri = Request.maybe_add_query_param uri "fieldManager" (fun x -> x) field_manager in
    let uri = Request.maybe_add_query_param uri "fieldValidation" (fun x -> x) field_validation in
    let uri = Request.maybe_add_query_param uri "pretty" (fun x -> x) pretty in
    let body = Request.write_as_json_body Io_k8s_api_authorization_v1_self_subject_access_review.to_yojson body in
    let resp, body = Cohttp_eio.Client.call ~sw client `POST uri ~headers ~body  in
    Request.read_json_body_as (JsonSupport.unwrap Io_k8s_api_authorization_v1_self_subject_access_review.of_yojson) resp body

let create_authorization_v1_self_subject_rules_review ~sw client ~body ?dry_run ?field_manager ?field_validation ?pretty () =
    let uri = Request.build_uri "/apis/authorization.k8s.io/v1/selfsubjectrulesreviews" in
    let headers = Request.default_headers in
    let headers = Cohttp.Header.add headers "authorization" Request.api_key in
    let uri = Request.maybe_add_query_param uri "dryRun" (fun x -> x) dry_run in
    let uri = Request.maybe_add_query_param uri "fieldManager" (fun x -> x) field_manager in
    let uri = Request.maybe_add_query_param uri "fieldValidation" (fun x -> x) field_validation in
    let uri = Request.maybe_add_query_param uri "pretty" (fun x -> x) pretty in
    let body = Request.write_as_json_body Io_k8s_api_authorization_v1_self_subject_rules_review.to_yojson body in
    let resp, body = Cohttp_eio.Client.call ~sw client `POST uri ~headers ~body  in
    Request.read_json_body_as (JsonSupport.unwrap Io_k8s_api_authorization_v1_self_subject_rules_review.of_yojson) resp body

let create_authorization_v1_subject_access_review ~sw client ~body ?dry_run ?field_manager ?field_validation ?pretty () =
    let uri = Request.build_uri "/apis/authorization.k8s.io/v1/subjectaccessreviews" in
    let headers = Request.default_headers in
    let headers = Cohttp.Header.add headers "authorization" Request.api_key in
    let uri = Request.maybe_add_query_param uri "dryRun" (fun x -> x) dry_run in
    let uri = Request.maybe_add_query_param uri "fieldManager" (fun x -> x) field_manager in
    let uri = Request.maybe_add_query_param uri "fieldValidation" (fun x -> x) field_validation in
    let uri = Request.maybe_add_query_param uri "pretty" (fun x -> x) pretty in
    let body = Request.write_as_json_body Io_k8s_api_authorization_v1_subject_access_review.to_yojson body in
    let resp, body = Cohttp_eio.Client.call ~sw client `POST uri ~headers ~body  in
    Request.read_json_body_as (JsonSupport.unwrap Io_k8s_api_authorization_v1_subject_access_review.of_yojson) resp body

let get_authorization_v1_api_resources ~sw client () =
    let uri = Request.build_uri "/apis/authorization.k8s.io/v1/" in
    let headers = Request.default_headers in
    let headers = Cohttp.Header.add headers "authorization" Request.api_key in
    let resp, body = Cohttp_eio.Client.call ~sw client `GET uri ~headers  in
    Request.read_json_body_as (JsonSupport.unwrap Io_k8s_apimachinery_pkg_apis_meta_v1_api_resource_list.of_yojson) resp body

